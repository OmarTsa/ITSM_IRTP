@page "/"
@using Microsoft.AspNetCore.Components.Authorization
@inject AuthenticationStateProvider AuthStateProvider
@inject NavigationManager Navigation

<AuthorizeView>
    <Authorized>
        @{
            Navigation.NavigateTo("/dashboard", replace: true);
        }
    </Authorized>
    <NotAuthorized>
        <MudContainer MaxWidth="MaxWidth.Large" Style="min-height: 100vh; display: flex; align-items: center; justify-content: center;">
            <MudPaper Elevation="8" Class="pa-10" Style="max-width: 800px; border-radius: 20px;">

                <div class="text-center mb-6">
                    <MudIcon Icon="@Icons.Material.Filled.Support"
                             Size="Size.Large"
                             Color="Color.Primary"
                             Style="font-size: 80px;" />
                </div>

                <MudText Typo="Typo.h3" Align="Align.Center" Color="Color.Primary" Class="mb-3">
                    <b>ITSM - IRTP</b>
                </MudText>

                <MudText Typo="Typo.h6" Align="Align.Center" Color="Color.Secondary" Class="mb-6">
                    Sistema Integral de Gestión de Servicios TI
                </MudText>

                <MudDivider Class="my-6" />

                <MudGrid>
                    <MudItem xs="12" md="4" Class="text-center pa-4">
                        <MudIcon Icon="@Icons.Material.Filled.Assignment" Color="Color.Info" Size="Size.Large" />
                        <MudText Typo="Typo.h6" Class="mt-2">Gestión de Tickets</MudText>
                        <MudText Typo="Typo.body2" Color="Color.Secondary">
                            Reporta y gestiona incidencias en tiempo real
                        </MudText>
                    </MudItem>

                    <MudItem xs="12" md="4" Class="text-center pa-4">
                        <MudIcon Icon="@Icons.Material.Filled.Inventory" Color="Color.Success" Size="Size.Large" />
                        <MudText Typo="Typo.h6" Class="mt-2">Inventario de Activos</MudText>
                        <MudText Typo="Typo.body2" Color="Color.Secondary">
                            Control completo de equipos TI
                        </MudText>
                    </MudItem>

                    <MudItem xs="12" md="4" Class="text-center pa-4">
                        <MudIcon Icon="@Icons.Material.Filled.Analytics" Color="Color.Warning" Size="Size.Large" />
                        <MudText Typo="Typo.h6" Class="mt-2">Reportes y KPIs</MudText>
                        <MudText Typo="Typo.body2" Color="Color.Secondary">
                            Dashboard con métricas en tiempo real
                        </MudText>
                    </MudItem>
                </MudGrid>

                <MudDivider Class="my-6" />

                <div class="d-flex justify-center">
                    <MudButton Variant="Variant.Filled"
                               Color="Color.Primary"
                               Size="Size.Large"
                               Href="/login"
                               StartIcon="@Icons.Material.Filled.Login"
                               Style="padding: 12px 48px; border-radius: 10px;">
                        Iniciar Sesión
                    </MudButton>
                </div>

                <MudText Typo="Typo.caption" Align="Align.Center" Color="Color.Secondary" Class="mt-6">
                    © 2025 IRTP - Instituto de Radio y Televisión del Perú
                </MudText>
            </MudPaper>
        </MudContainer>
    </NotAuthorized>
</AuthorizeView>
