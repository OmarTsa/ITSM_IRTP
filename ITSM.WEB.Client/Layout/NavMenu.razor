@using Microsoft.AspNetCore.Components.Authorization
@inject AuthenticationStateProvider AuthStateProvider

<MudNavMenu>
    <MudNavGroup Title="Panel Principal"
                 Icon="@Icons.Material.Filled.Dashboard"
                 Expanded="true">
        <MudNavLink Href="/dashboard"
                    Icon="@Icons.Material.Filled.Home"
                    Match="NavLinkMatch.All">
            Dashboard
        </MudNavLink>
    </MudNavGroup>

    <MudDivider Class="my-2" />

    <AuthorizeView>
        <Authorized>
            <MudNavGroup Title="Help Desk"
                         Icon="@Icons.Material.Filled.SupportAgent"
                         Expanded="true">
                <MudNavLink Href="/helpdesk/nuevo"
                            Icon="@Icons.Material.Filled.AddCircleOutline">
                    Nuevo Ticket
                </MudNavLink>
                <MudNavLink Href="/helpdesk/mistickets"
                            Icon="@Icons.Material.Filled.Assignment">
                    Mis Tickets
                </MudNavLink>
                <MudNavLink Href="/helpdesk/gestion"
                            Icon="@Icons.Material.Filled.ManageAccounts">
                    Gestión de Tickets
                </MudNavLink>
            </MudNavGroup>

            <MudDivider Class="my-2" />

            <MudNavGroup Title="Inventario"
                         Icon="@Icons.Material.Filled.Inventory"
                         Expanded="false">
                <MudNavLink Href="/inventario"
                            Icon="@Icons.Material.Filled.Computer">
                    Ver Activos
                </MudNavLink>
                <MudNavLink Href="/inventario/nuevo"
                            Icon="@Icons.Material.Filled.Add">
                    Nuevo Activo
                </MudNavLink>
            </MudNavGroup>

            <MudDivider Class="my-2" />

            <AuthorizeView Roles="ADMINISTRADOR">
                <Authorized Context="adminContext">
                    <MudNavGroup Title="Administración"
                                 Icon="@Icons.Material.Filled.AdminPanelSettings"
                                 Expanded="false">
                        <MudNavLink Href="/admin/usuarios"
                                    Icon="@Icons.Material.Filled.People">
                            Usuarios
                        </MudNavLink>
                        <MudNavLink Href="/admin/roles"
                                    Icon="@Icons.Material.Filled.Security">
                            Roles
                        </MudNavLink>
                        <MudNavLink Href="/admin/tipos"
                                    Icon="@Icons.Material.Filled.Category">
                            Tipos de Activos
                        </MudNavLink>
                    </MudNavGroup>
                </Authorized>
            </AuthorizeView>
        </Authorized>
    </AuthorizeView>

    <MudDivider Class="my-4" />

    <MudNavLink Href="/ayuda"
                Icon="@Icons.Material.Filled.Help"
                Match="NavLinkMatch.All">
        Ayuda
    </MudNavLink>
</MudNavMenu>

<style>
    .mud-nav-link {
        padding: 12px 16px;
        border-radius: 8px;
        margin: 4px 8px;
        transition: all 0.3s ease;
    }

        .mud-nav-link:hover {
            background-color: rgba(94, 74, 226, 0.1);
            transform: translateX(4px);
        }

        .mud-nav-link.active {
            background-color: rgba(94, 74, 226, 0.15);
            font-weight: 600;
            border-left: 4px solid #594AE2;
        }

    .mud-nav-group-title {
        font-weight: 600;
        color: #594AE2;
    }
</style>
