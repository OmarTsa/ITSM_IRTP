@using MudBlazor
@using ITSM.Entidades

<MudDialog>
    <DialogContent>
        <MudSelect T="int?" Label="Activos Disponibles" @bind-Value="IdActivoSeleccionado">
            @foreach (var activo in ListaActivos)
            {
                @* CORRECCIÓN AQUÍ: Usar CodPatrimonial *@
                <MudSelectItem T="int?" Value="@activo.IdActivo">
                    @activo.Nombre (@activo.CodInventario)
                </MudSelectItem>
            }
        </MudSelect>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancelar">Cancelar</MudButton>
        <MudButton Color="Color.Primary" OnClick="Confirmar">Asignar</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter]
    private IMudDialogInstance MudDialog { get; set; } = null!;

    [Parameter]
    public List<Activo> ListaActivos { get; set; } = new();

    private int? IdActivoSeleccionado;

    private void Cancelar() => MudDialog.Cancel();

    private void Confirmar() => MudDialog.Close(DialogResult.Ok(IdActivoSeleccionado));
}